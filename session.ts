import { headers } from 'next/headers';import { getIronSession, IronSession, SessionOptions } from 'iron-session';export interface SessionData{user?:{id:string;email:string;name:string;role:string;credits:number;referralCode:string}}export const sessionOptions:SessionOptions={password:process.env.IRON_SESSION_PASSWORD as string,cookieName:process.env.IRON_SESSION_COOKIE_NAME||'givehub_session',cookieOptions:{secure:process.env.NODE_ENV==='production',sameSite:'lax',httpOnly:true},};export async function getSession(){const request={headers:await headers()} as any;const response={headers:new Headers()} as any;return getIronSession<SessionData>(request,response,sessionOptions);}